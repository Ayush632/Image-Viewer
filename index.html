<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>IMAGE VIEWER</title>
  </head>
  <body style="display:flex; flex-direction: column">
    <h1>JATAYU</h1>
    <div style="display:flex; flex-direction: row">
      <div style="display:flex; flex-direction: column">
        <img src = "images/hi.JPG" id="mainImage" alt="ERROR" width="500" height="333">
        <button style="width:25%" onclick="changeImage()">next</button>
      </div>
      <div style="display:flex; flex-direction: column"
          <form action="http://127.0.0.1:5000/ " method="post">
            <label for="shape">shape: </label>
            <input id="shape" type="text" name="shape" value="shape">
            <input type="submit" value="OK">
          </form>
      </div>
    </div> 
    <script type="text/javascript"src="js/getImage.js"></script>
    <script type="text/javascript"src="js/materialize.js"></script>
    <button onclick="deleteImage()">delete</button>
  <script type="text/javascript">
  //var fs = require('fs');
 
 
 //fs.unlink('images/imageArray[i]', function (err) {
    // if (err) throw err;
     
     //console.log('File deleted!');
 //});  </script>
    <button onclick="previousImage()">previous</button>
    <script type="text/javascript" >
      var fs=require('fs');
      var myImage=document.getElementById('mainImage');     
      var imageIndex=0;
       function previousImage(){
        goto_label='end';
        if(imageIndex==1)
         goto_label:end;
        imageIndex--;
        imageIndex--;
        myImage.setAttribute("src","images/"+imageArray[imageIndex]);
        imageIndex++;
      }
      function changeImage(){
        goto_label='start';
       //goto_loop:if((imageIndex+1)==imageArray.length)
        //continue goto_loop;
        
        if((imageIndex)==imageArray.length)
         goto_label:start;
        myImage.setAttribute("src","images/"+imageArray[imageIndex]);
        imageIndex++;
      }
         function deleteImage(){
        imageIndex--;
        fs.unlink('images/'+imageArray[imageIndex],function(err){
          if(err) throw err;
          imageIndex++;
          imageIndex++;
          console.log('deleted');
        });
      }</script>    
  </body>
</html>
